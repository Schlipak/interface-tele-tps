<div class="col-lg-12" id="tpCreatorCanvas" ng-controller="SettingsController">
    <div class="bs-component">
        <div class="list-group">

            <div class="panel panel-default">
                <div class="panel-heading" style="z-index: 10">
                    Concepteur de TP | {{"&lt;nom du tp&gt;"}}
                    <a ng-click="toggleSidebar(!sidebarIsDisplayed, '')" class="btn btn-fab btn-material-orange btn-raised icon-material-add" style="z-index: 50;"></a>

                </div>

                <div class="panel-body" id="conceptorCanvas" ng-style="{'height': $root.size.canvasHeight + 'px'}">
                    <!-- Canvas D3 pour la conception du TP -->
                    <div id="mainCanvas">
                        <a href="javascript:ni.load();">load!</a>
                    </div>
                    <canvas id="svgToPng" style="display:none"></canvas>

                    <!-- Panneau à droite contenant les différents éléments et les paramètres -->
                    <div class="well well-material-lightgreen" id="tpCreatorSideBar" ng-style="{'height': $root.size.sidebarHeight + 'px'}; {'margin-top': $root.size.sidebarTopMargin + 'px'}">
                        <ul class="nav nav-tabs btn-material-lightgreen" style="margin-bottom: 15px;">
                            <li class="active" id="components-panel">
                                <a href="javascript:void(0)" data-target="#components" data-toggle="tab">Composants</a>
                            </li>
                            <li id="settings-panel">
                                <a href="javascript:void(0)" data-target="#settings" data-toggle="tab">Paramètres</a>
                            </li>
                        </ul>
                        <div id="sidebarTabContents" class="tab-content">
                            <div class="tab-pane fade active in custom-scrollbar" id="components" ng-style="{'height': $root.size.paneHeight + 'px'}">
                                <!-- TODO Replace this mess with something from bootstrap/minimal -->
                                <div class="list-group">
                                    <div class="list-group-item">
                                        <div class="row-picture">
                                            <img class="circle" onclick="ni.add('pc')" src="assets/pc.png" draggable="true" ondragstart="(function(ev){ ev.dataTransfer.setData('name', 'pc'); })(event)">
                                        </div>
                                        <div class="row-content">
                                            <h4 class="list-group-item-heading">Ordinateur</h4>
                                        </div>
                                    </div>
                                    <div class="list-group-item">
                                        <div class="row-picture">
                                            <img class="circle" onclick="ni.add('router')" src="assets/router.png" draggable="true" ondragstart="(function(ev){ ev.dataTransfer.setData('name', 'router'); })(event)">
                                        </div>
                                        <div class="row-content">
                                            <h4 class="list-group-item-heading">Router</h4>
                                        </div>
                                    </div>
                                    <div class="list-group-item">
                                        <div class="row-picture">
                                            <img class="circle" onclick="ni.add('switch')" src="assets/switch.png" draggable="true" ondragstart="(function(ev){ ev.dataTransfer.setData('name', 'switch'); })(event)">
                                        </div>
                                        <div class="row-content">
                                            <h4 class="list-group-item-heading">Switch</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade custom-scrollbar" id="settings" ng-style="{'height': $root.size.paneHeight + 'px'}">
                                <form class="form-horizontal" id="settingsForm" name="settings">
                                    <fieldset>
                                        <legend>Legend</legend>
                                        <div class="form-group">
                                            <label for="inputName" class="col-lg-4 control-label">Name</label>
                                            <div class="col-lg-8">
                                                <input ng-model="cfgName" id="inputName" class="form-control">
                                            </div>
                                            <label for="inputType" class="col-lg-4 control-label">Type</label>
                                            <div class="col-lg-8">
                                                <select ng-model="cfgType" class="form-control" id="inputType" ng-change="change()">
                                                    <option>PC</option>
                                                    <option>Switch</option>
                                                    <option>Router</option>
                                                </select>
                                            </div>
                                        </div>
                                        <legend>Configuration Réseau</legend>
                                        <div class="form-group" bs-has-error>
                                            <label for="inputIP" class="col-lg-4 control-label">IP</label>
                                            <div class="col-lg-8">
                                                <input ng-model="cfgIP" name="ip" id="inputIP" class="form-control" ng-pattern="/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/">
                                            </div>
                                            <label for="inputNetmask" class="col-lg-4 control-label">Masque</label>
                                            <div class="col-lg-8">
                                                <input ng-model="cfgNetmask" id="inputNetmask" class="form-control" ng-pattern="/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/">
                                            </div>
                                            <label for="inputGateway" class="col-lg-4 control-label">Passerelle</label>
                                            <div class="col-lg-8">
                                                <input ng-model="cfgGateway" id="inputGateway" class="form-control" ng-pattern="/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/">
                                                <div class="checkbox">
                                                    <label>
                                                        <input ng-model="cfgForwarding" id="inputForwarding" type="checkbox"> IP Forwarding
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" ng-show="settings.$dirty">
                                            <div class="col-lg-12">
                                                <button ng-click="reset()" class="btn btn-default">Cancel</button>
                                                <button ng-click="submit()" class="btn btn-primary">Save</button>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TODO Change button size -->
                <div class="panel-footer">
                    <a href="javascript:void(0)" class="btn btn-flat btn-primary btn-xs" style="z-index: 50;">Download Config</a>
                    <a href="javascript:void(0)" ng-click="$root.ni.downloadImage()" class="btn btn-flat btn-primary btn-xs" style="z-index: 50;">Download Image</a>
                </div>
            </div>

        </div>
    </div>
</div>
